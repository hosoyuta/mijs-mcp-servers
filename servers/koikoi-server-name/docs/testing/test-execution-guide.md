# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ‰‹é †æ›¸ï¼ˆTest Execution Guideï¼‰

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Code Analysis MCP Server - Phase 1
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**æœ€çµ‚æ›´æ–°æ—¥**: 2025-11-01
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… Phase 1å®Œæˆ

---

## ğŸ“‹ ç›®æ¬¡

1. [ã¯ã˜ã‚ã«](#ã¯ã˜ã‚ã«)
2. [å‰ææ¡ä»¶](#å‰ææ¡ä»¶)
3. [åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ](#åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ)
4. [é«˜åº¦ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ](#é«˜åº¦ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ)
5. [ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ](#ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ)
6. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
7. [CI/CDçµ±åˆ](#cicdçµ±åˆ)

---

## ã¯ã˜ã‚ã«

æœ¬ã‚¬ã‚¤ãƒ‰ã¯ã€Code Analysis MCP Server Phase 1ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãªæ‰‹é †æ›¸ã§ã™ã€‚

### å¯¾è±¡èª­è€…

- é–‹ç™ºè€…ï¼ˆæ–°è¦å‚åŠ ãƒ¡ãƒ³ãƒãƒ¼å«ã‚€ï¼‰
- QAã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
- CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰è€…

### ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«

- **Bun Test**: çµ„ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ï¼ˆJestäº’æ›APIï¼‰
- **TypeScript**: å‹ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
- **Bun Runtime**: è¶…é«˜é€Ÿå®Ÿè¡Œç’°å¢ƒ

---

## å‰ææ¡ä»¶

### 1. ç’°å¢ƒè¦ä»¶

| é …ç›® | è¦ä»¶ | ç¢ºèªæ–¹æ³• |
|-----|------|---------|
| **Bun** | v1.3.1ä»¥ä¸Š | `bun --version` |
| **Node.js** | v18.0.0ä»¥ä¸Šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | `node --version` |
| **OS** | Windows/Linux/macOS | - |
| **ãƒ¡ãƒ¢ãƒª** | 4GBä»¥ä¸Šæ¨å¥¨ | - |
| **ãƒ‡ã‚£ã‚¹ã‚¯** | 1GBä»¥ä¸Šã®ç©ºãå®¹é‡ | - |

### 2. ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### Bunã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**macOS/Linux**:
```bash
curl -fsSL https://bun.sh/install | bash
```

**Windows**:
```powershell
powershell -c "irm bun.sh/install.ps1 | iex"
```

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd koikoi-server-name

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bun install

# TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
bun run tsc --noEmit
```

### 3. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ç¢ºèª

```bash
# Bunãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
bun --version
# æœŸå¾…: 1.3.1ä»¥ä¸Š

# ä¾å­˜é–¢ä¿‚ç¢ºèª
bun pm ls
# æœŸå¾…: typescript, globç­‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹

# ç°¡æ˜“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
bun test tests/fixtures/workspace/tests/sample.test.ts
# æœŸå¾…: 1 pass
```

---

## åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### 1. å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

#### ã‚³ãƒãƒ³ãƒ‰

```bash
bun test
```

#### æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›

```
bun test v1.3.1

tests\fs\FileReader.test.ts:
(pass) FileReader > ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’æ­£ã—ãèª­ã¿è¾¼ã‚ã‚‹
(pass) FileReader > ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒæ­£ç¢º
...

tests\compiler\CompilerHost.test.ts:
(pass) CompilerHost > TypeScript Programã‚’ä½œæˆã§ãã‚‹
...

 150 pass
 0 fail
 337 expect() calls
Ran 150 tests across 14 files. [~50s]
```

#### å®Ÿè¡Œæ™‚é–“

- **é€šå¸¸**: 45-55ç§’
- **åˆå›å®Ÿè¡Œ**: 60-70ç§’ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æ§‹ç¯‰ï¼‰
- **2å›ç›®ä»¥é™**: 45ç§’å‰å¾Œ

---

### 2. ç‰¹å®šã‚«ãƒ†ã‚´ãƒªã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

#### File System Layerã®ã¿

```bash
bun test tests/fs/
```

**æœŸå¾…**: 77ãƒ†ã‚¹ãƒˆé€šé

#### Compiler Layerã®ã¿

```bash
bun test tests/compiler/
```

**æœŸå¾…**: 49ãƒ†ã‚¹ãƒˆé€šé

#### çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿

```bash
bun test tests/integration/
```

**æœŸå¾…**: 10ãƒ†ã‚¹ãƒˆé€šé

#### E2Eãƒ†ã‚¹ãƒˆã®ã¿

```bash
bun test tests/e2e/
```

**æœŸå¾…**: 13ãƒ†ã‚¹ãƒˆé€šé

---

### 3. ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

#### å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«

```bash
bun test tests/fs/FileReader.test.ts
```

**æœŸå¾…**: 14ãƒ†ã‚¹ãƒˆé€šé

#### è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®š

```bash
bun test tests/fs/FileReader.test.ts tests/fs/PathResolver.test.ts
```

**æœŸå¾…**: 31ãƒ†ã‚¹ãƒˆé€šé

---

### 4. ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

#### ç‰¹å®šãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆ

```bash
# "performance"ã‚’å«ã‚€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
bun test tests/**/performance.test.ts

# "integration"ã‚’å«ã‚€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
bun test tests/**/integration.test.ts

# "edge-cases"ã‚’å«ã‚€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
bun test tests/**/edge-cases.test.ts
```

---

## é«˜åº¦ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### 1. Watchãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚’ç›£è¦–ã—ã¦è‡ªå‹•å†å®Ÿè¡Œï¼š

```bash
bun test --watch
```

**ä½¿ç”¨ä¾‹**:
1. ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ãƒ»ä¿å­˜
3. è‡ªå‹•çš„ã«ãƒ†ã‚¹ãƒˆå†å®Ÿè¡Œ

**çµ‚äº†**: `Ctrl+C`

---

### 2. è©³ç´°å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰

#### Verboseãƒ¢ãƒ¼ãƒ‰

```bash
bun test --verbose
```

**å‡ºåŠ›å†…å®¹**:
- å„ãƒ†ã‚¹ãƒˆã®é–‹å§‹ãƒ»çµ‚äº†æ™‚åˆ»
- è©³ç´°ãªã‚¨ãƒ©ãƒ¼ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡æƒ…å ±

---

### 3. ç‰¹å®šãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ

#### ãƒ†ã‚¹ãƒˆåã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

```typescript
// ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ test.only() ã‚’ä½¿ç”¨
test.only("ã“ã®ãƒ†ã‚¹ãƒˆã ã‘å®Ÿè¡Œ", () => {
  // ...
});
```

```bash
bun test tests/fs/FileReader.test.ts
```

**æœŸå¾…**: `test.only()`ã®ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ

#### describeãƒ–ãƒ­ãƒƒã‚¯ã®ã¿å®Ÿè¡Œ

```typescript
describe.only("ã“ã®ãƒ–ãƒ­ãƒƒã‚¯ã ã‘å®Ÿè¡Œ", () => {
  test("ãƒ†ã‚¹ãƒˆ1", () => { /* ... */ });
  test("ãƒ†ã‚¹ãƒˆ2", () => { /* ... */ });
});
```

**æ³¨æ„**: `test.only()`ã‚„`describe.only()`ã¯ã‚³ãƒŸãƒƒãƒˆå‰ã«å‰Šé™¤ã™ã‚‹ã“ã¨

---

### 4. ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚­ãƒƒãƒ—

```typescript
// ä¸€æ™‚çš„ã«ã‚¹ã‚­ãƒƒãƒ—
test.skip("ã“ã®ãƒ†ã‚¹ãƒˆã¯ã‚¹ã‚­ãƒƒãƒ—", () => {
  // ...
});

describe.skip("ã“ã®ãƒ–ãƒ­ãƒƒã‚¯ã¯ã‚¹ã‚­ãƒƒãƒ—", () => {
  // ...
});
```

```bash
bun test
```

**å‡ºåŠ›**: ã‚¹ã‚­ãƒƒãƒ—ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã¯å®Ÿè¡Œã•ã‚Œãªã„

---

### 5. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š

#### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆ5000msï¼‰

```typescript
test("é€šå¸¸ã®ãƒ†ã‚¹ãƒˆ", async () => {
  // 5ç§’ä»¥å†…ã«å®Œäº†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
});
```

#### ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

```typescript
test("é•·æ™‚é–“ãƒ†ã‚¹ãƒˆ", async () => {
  // 30ç§’ä»¥å†…ã«å®Œäº†
}, 30000);
```

---

## ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

### 1. åŸºæœ¬çš„ãªã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š

```bash
bun test --coverage
```

**å‡ºåŠ›**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ File             â”‚ % Stmts  â”‚ % Branch â”‚ % Funcs  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ src/fs/          â”‚ 90%+     â”‚ 88%+     â”‚ 100%     â”‚
â”‚ src/compiler/    â”‚ 80%+     â”‚ 78%+     â”‚ 100%     â”‚
â”‚ All files        â”‚ 85%+     â”‚ 82%+     â”‚ 95%+     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. HTMLã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ

```bash
bun test --coverage --coverage-reporter=html
```

**å‡ºåŠ›å…ˆ**: `coverage/index.html`

**ãƒ¬ãƒãƒ¼ãƒˆã‚’é–‹ã**:
```bash
# macOS
open coverage/index.html

# Windows
start coverage/index.html

# Linux
xdg-open coverage/index.html
```

**ãƒ¬ãƒãƒ¼ãƒˆå†…å®¹**:
- ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã‚«ãƒãƒ¬ãƒƒã‚¸
- æœªã‚«ãƒãƒ¼è¡Œã®å¼·èª¿è¡¨ç¤º
- ãƒ–ãƒ©ãƒ³ãƒã‚«ãƒãƒ¬ãƒƒã‚¸ã®è©³ç´°

---

### 3. ã‚«ãƒãƒ¬ãƒƒã‚¸é–¾å€¤ãƒã‚§ãƒƒã‚¯

```bash
# 85%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’è¦æ±‚
bun test --coverage --coverage-threshold=85
```

**å‹•ä½œ**:
- ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ85%æœªæº€ã®å ´åˆã€ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ï¼ˆexit code 1ï¼‰
- CI/CDã§å“è³ªã‚²ãƒ¼ãƒˆã¨ã—ã¦ä½¿ç”¨å¯èƒ½

---

### 4. ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚«ãƒãƒ¬ãƒƒã‚¸

```bash
# FileReaderã®ã¿
bun test tests/fs/FileReader.test.ts --coverage

# Compiler Layerå…¨ä½“
bun test tests/compiler/ --coverage
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œãªã„

**ç—‡çŠ¶**:
```
No tests found
```

**åŸå› **:
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«åãŒ `*.test.ts` ã§ã¯ãªã„
- `tests/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¤–ã«ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹

**è§£æ±ºæ–¹æ³•**:
```bash
# ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
ls tests/**/*.test.ts

# æ­£ã—ã„ãƒ‘ã‚¹ã§å®Ÿè¡Œ
bun test tests/fs/FileReader.test.ts
```

---

### å•é¡Œ2: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**:
```
Error: Test timeout of 5000ms exceeded
```

**åŸå› **:
- ãƒ†ã‚¹ãƒˆãŒ5ç§’ä»¥å†…ã«å®Œäº†ã—ãªã„
- ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚„ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯

**è§£æ±ºæ–¹æ³•**:
```typescript
// ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å»¶é•·
test("é•·æ™‚é–“ãƒ†ã‚¹ãƒˆ", async () => {
  // ...
}, 30000); // 30ç§’
```

---

### å•é¡Œ3: ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**:
```
FATAL ERROR: Reached heap limit
```

**åŸå› **:
- å¤§è¦æ¨¡ãªãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
- ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯

**è§£æ±ºæ–¹æ³•**:
```bash
# Bunã®ãƒ¡ãƒ¢ãƒªåˆ¶é™ã‚’å¢—ã‚„ã™
bun --max-old-space-size=4096 test
```

---

### å•é¡Œ4: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**:
```
ENOENT: no such file or directory
```

**åŸå› **:
- ãƒ†ã‚¹ãƒˆãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ãŒå­˜åœ¨ã—ãªã„
- ãƒ‘ã‚¹ãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**:
```bash
# ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã‚’ç¢ºèª
ls tests/fixtures/

# ç›¸å¯¾ãƒ‘ã‚¹ã‚’ç¢ºèª
pwd
```

---

### å•é¡Œ5: TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**:
```
error TS2304: Cannot find name 'expect'
```

**åŸå› **:
- `bun-types`ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**:
```bash
# ä¾å­˜é–¢ä¿‚ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bun install

# tsconfig.jsonã‚’ç¢ºèª
cat tsconfig.json
```

---

## CI/CDçµ±åˆ

### GitHub Actions

#### `.github/workflows/test.yml`

```yaml
name: Tests

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Setup Bun
        uses: oven-sh/setup-bun@v1
        with:
          bun-version: 1.3.1

      - name: Install dependencies
        run: bun install

      - name: Run tests
        run: bun test

      - name: Generate coverage
        run: bun test --coverage

      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
        with:
          files: ./coverage/coverage-final.json
```

---

### GitLab CI

#### `.gitlab-ci.yml`

```yaml
test:
  image: oven/bun:1.3.1
  script:
    - bun install
    - bun test
    - bun test --coverage
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage/cobertura-coverage.xml
```

---

### ãƒ­ãƒ¼ã‚«ãƒ«CIå®Ÿè¡Œ

#### Actã‚’ä½¿ç”¨ï¼ˆGitHub Actionsã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œï¼‰

```bash
# Actã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆmacOSï¼‰
brew install act

# ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ
act -j test
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ä¾å­˜é–¢ä¿‚ãŒæœ€æ–°ã‹ç¢ºèªï¼ˆ`bun install`ï¼‰
- [ ] TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé€šã‚‹ã‹ç¢ºèªï¼ˆ`bun run tsc --noEmit`ï¼‰
- [ ] ãƒ†ã‚¹ãƒˆãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª

### 2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œé »åº¦

| ã‚¿ã‚¤ãƒŸãƒ³ã‚° | å®Ÿè¡Œå†…å®¹ | æ¨å¥¨é »åº¦ |
|-----------|---------|---------|
| ã‚³ãƒ¼ãƒ‰å¤‰æ›´æ™‚ | é–¢é€£ãƒ†ã‚¹ãƒˆã®ã¿ | æ¯å› |
| ã‚³ãƒŸãƒƒãƒˆå‰ | å…¨ãƒ†ã‚¹ãƒˆ | å¿…é ˆ |
| ãƒ—ãƒƒã‚·ãƒ¥å‰ | å…¨ãƒ†ã‚¹ãƒˆ + ã‚«ãƒãƒ¬ãƒƒã‚¸ | å¿…é ˆ |
| ãƒãƒ¼ã‚¸å‰ | å…¨ãƒ†ã‚¹ãƒˆ + çµ±åˆãƒ†ã‚¹ãƒˆ | å¿…é ˆ |

### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### ä¸¦åˆ—å®Ÿè¡Œ

```bash
# Bunã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä¸¦åˆ—å®Ÿè¡Œ
bun test
```

#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨

```bash
# ãƒ†ã‚¹ãƒˆãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
# BunãŒè‡ªå‹•çš„ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç®¡ç†
```

---

## ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `bun test` | å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |
| `bun test --watch` | Watchãƒ¢ãƒ¼ãƒ‰ |
| `bun test --coverage` | ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š |
| `bun test tests/fs/` | FSãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ |
| `bun test tests/compiler/` | Compilerãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ |
| `bun test tests/e2e/` | E2Eãƒ†ã‚¹ãƒˆã®ã¿ |

### ãƒ†ã‚¹ãƒˆçµæœã®è¦‹æ–¹

```
 150 pass      â† é€šéã—ãŸãƒ†ã‚¹ãƒˆæ•°
 0 fail        â† å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆæ•°
 337 expect()  â† ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³æ•°
Ran 150 tests across 14 files. [50.14s]
                                  â†‘å®Ÿè¡Œæ™‚é–“
```

---

## ä»˜éŒ²

### A. ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡

- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: `<ClassName>.test.ts`
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: `integration.test.ts`
- **E2Eãƒ†ã‚¹ãƒˆ**: `scenarios.test.ts`
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: `performance.test.ts`
- **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ**: `edge-cases.test.ts`

### B. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®é…ç½®

```
tests/
â”œâ”€â”€ fixtures/           # ãƒ†ã‚¹ãƒˆãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
â”‚   â”œâ”€â”€ sample-*.ts     # ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ projects/       # ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
â”œâ”€â”€ fs/                 # FSãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ compiler/           # Compilerãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ integration/        # çµ±åˆãƒ†ã‚¹ãƒˆ
â””â”€â”€ e2e/                # E2Eãƒ†ã‚¹ãƒˆ
```

### C. ç’°å¢ƒå¤‰æ•°

| å¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|-------|------|-----------|
| `DEBUG` | ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ | `false` |
| `NODE_ENV` | å®Ÿè¡Œç’°å¢ƒ | `test` |
| `CI` | CIç’°å¢ƒåˆ¤å®š | `false` |

---

## ã‚µãƒãƒ¼ãƒˆ

### å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆ

1. **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰**: `docs/troubleshooting.md`
2. **GitHub Issues**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Issuesã‚’ç¢ºèª
3. **é–‹ç™ºãƒãƒ¼ãƒ **: Slack #code-analysis-support

---

**ä½œæˆæ—¥**: 2025-11-01
**ä½œæˆè€…**: Code Analysis Team
**ãƒ¬ãƒ“ãƒ¥ãƒ¼**: âœ… å®Œäº†
**æ‰¿èª**: âœ… Phase 1å®Œæˆ
